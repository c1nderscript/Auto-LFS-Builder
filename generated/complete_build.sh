#!/bin/bash
# AUTO-GENERATED COMPLETE LFS BUILD SCRIPT
# Generated by Codex agents from documentation in docs/ folder
set -euo pipefail

source src/common/logging.sh
source src/common/error_handling.sh
source src/common/package_management.sh
source config/build_profiles/desktop_gnome.conf

log_info "=== Phase 1: Building LFS Base System ==="
bash generated/lfs_base_build.sh || handle_error "LFS base system failed"

log_info "=== Phase 2: Setting up Networking ==="
bash generated/networking_setup.sh || handle_error "Networking setup failed"

log_info "=== Phase 3: Installing X Window System ==="
bash generated/x_window_build.sh || handle_error "X Window build failed"

log_info "=== Phase 4: Installing GNOME Desktop ==="
bash generated/gnome_desktop.sh || handle_error "GNOME desktop failed"

log_info "=== Phase 5: Installing Extended Packages ==="
bash generated/blfs_extras.sh || handle_error "BLFS extras failed"

log_info "=== Phase 6: Final System Configuration ==="
bash generated/system_finalization.sh || handle_error "System finalization failed"

# Run validation suite
bash src/validators/system_validator.sh || handle_error "System validation failed"

log_success "=== LFS Build Complete with GNOME Desktop ==="
